<div class="container py-4" *ngIf="!loading">
  <h2 class="mb-4">ðŸ§¾ Order Summary</h2>

  <!-- Products table -->
  <table class="table" *ngIf="cart?.items?.length; else emptyCart">
    <thead class="table-light">
      <tr>
        <th>Product</th>
        <th class="text-center">Qty</th>
        <th class="text-end">Price</th>
        <th class="text-end">Subtotal</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let it of cart.items">
        <td>{{ it.nombre }}</td>
        <td class="text-center">{{ it.cantidad }}</td>
        <td class="text-end">S/ {{ it.precio | number:'1.2-2' }}</td>
        <td class="text-end">S/ {{ (it.cantidad * it.precio) | number:'1.2-2' }}</td>
      </tr>
    </tbody>
  </table>

  <ng-template #emptyCart>
    <div class="alert alert-info">Tu carrito estÃ¡ vacÃ­o.</div>
  </ng-template>

  <div class="text-end mb-3" *ngIf="cart?.items?.length">
    <h5>Total: S/ {{ (cart.total ?? 0) | number:'1.2-2' }}</h5>
  </div>

  <!-- Place order (sin direcciÃ³n ni pago) -->
  <div class="text-end mt-4">
    <button
      class="btn btn-success"
      [disabled]="!cart?.items?.length"
      (click)="placeOrder()"
    >
      ðŸ“¦ Place Order
    </button>
  </div>
</div>
